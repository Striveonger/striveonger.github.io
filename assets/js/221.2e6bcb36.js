(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{766:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Kubernetes 限制Pod 的可以使用资源的, 有三种限制方式")]),t._v(" "),s("h3",{attrs:{id:"resourcequota"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resourcequota"}},[t._v("#")]),t._v(" ResourceQuota")]),t._v(" "),s("blockquote",[s("p",[t._v("作用于命名空间, 限制命名空间"),s("strong",[t._v("整体")]),t._v("的使用资源")])]),t._v(" "),s("h4",{attrs:{id:"核心功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心功能"}},[t._v("#")]),t._v(" 核心功能")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("限制计算资源总量")]),t._v("\n限制命名空间中所有 Pod 的 "),s("code",[t._v("requests")]),t._v(" 和 "),s("code",[t._v("limits")]),t._v(" 总和（如 CPU、内存）。\n"),s("ul",[s("li",[t._v("例如：整个命名空间的 Pod 总 CPU 请求不超过 "),s("code",[t._v("10核")]),t._v("，总内存限制不超过 "),s("code",[t._v("20GiB")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("限制存储资源总量")]),t._v("\n限制命名空间中所有 PersistentVolumeClaim (PVC) 的存储总量。\n"),s("ul",[s("li",[t._v("例如：所有 PVC 的总存储量不超过 "),s("code",[t._v("100GiB")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("限制对象数量")]),t._v("\n限制命名空间中某些 Kubernetes 对象的数量（如 Pod、Service、ConfigMap 等）。\n"),s("ul",[s("li",[t._v("例如：最多允许创建 "),s("code",[t._v("20个 Pod")]),t._v(" 或 "),s("code",[t._v("5个 LoadBalancer 类型的 Service")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("结合作用域（Scopes）细化限制")]),t._v("\n通过 "),s("code",[t._v("scopes")]),t._v(" 字段，可以针对特定类型的资源或 Pod 进行配额限制。例如：\n"),s("ul",[s("li",[t._v("仅限制 "),s("code",[t._v("BestEffort")]),t._v("（未设置资源请求的 Pod）或 "),s("code",[t._v("NotBestEffort")]),t._v("（设置了资源请求的 Pod）。")]),t._v(" "),s("li",[t._v("限制终止中的 Pod（"),s("code",[t._v("Terminating")]),t._v("）或正在运行的 Pod（"),s("code",[t._v("NotTerminating")]),t._v("）。")])])])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ResourceQuota\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pod"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("quota\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fm\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hard")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 计算资源")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests.cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 所有 Pod 的 CPU 请求总和不超过 10核")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests.memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20Gi"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 所有 Pod 的内存请求总和不超过 20GiB")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits.cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20"')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 所有 Pod 的 CPU 限制总和不超过 20核")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits.memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40Gi"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 所有 Pod 的内存限制总和不超过 40GiB")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 存储资源")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("requests.storage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100Gi"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 所有 PVC 的存储请求总和不超过 100GiB")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对象数量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pods")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"50"')]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最多允许 50个 Pod")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services.loadbalancers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最多允许 5个 LoadBalancer 类型的 Service")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configmaps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20"')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最多允许 20个 ConfigMap")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 作用域（可选）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" NotBestEffort  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 仅限制设置了资源请求的 Pod（排除 BestEffort Pod）")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("h4",{attrs:{id:"作用域（scopes）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用域（scopes）"}},[t._v("#")]),t._v(" "),s("strong",[t._v("作用域（Scopes）")])]),t._v(" "),s("p",[t._v("ResourceQuota 可以通过 "),s("code",[t._v("scopes")]),t._v(" 细化限制目标，常用作用域包括：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("作用域")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("BestEffort")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("仅限制未设置资源请求的 Pod（"),s("code",[t._v("resources.requests")]),t._v(" 为空）。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("NotBestEffort")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("仅限制设置了资源请求的 Pod。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Terminating")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("仅限制处于终止状态的 Pod（"),s("code",[t._v("activeDeadlineSeconds >= 0")]),t._v("）。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("NotTerminating")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("仅限制未设置终止时间的 Pod。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("PriorityClass")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("限制特定优先级（PriorityClass）的 Pod（需指定具体 PriorityClass 名称）。")])])])]),t._v(" "),s("h3",{attrs:{id:"limitrange"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limitrange"}},[t._v("#")]),t._v(" LimitRange")]),t._v(" "),s("blockquote",[s("p",[t._v("主要用于限制命名空间（Namespace）内 Pod 或容器（Container）的资源使用量")])]),t._v(" "),s("h4",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("防止资源滥用")]),t._v("\n避免因配置错误导致单个 Pod 消耗过多资源，影响其他服务。")]),t._v(" "),s("li",[s("strong",[t._v("标准化资源配置")]),t._v("\n为开发人员提供默认资源模板，减少配置遗漏。")])]),t._v(" "),s("h4",{attrs:{id:"核心功能-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心功能-2"}},[t._v("#")]),t._v(" 核心功能")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("设置默认资源请求和限制")]),t._v(" "),s("ul",[s("li",[t._v("当 Pod 或容器未显式指定资源请求（"),s("code",[t._v("requests")]),t._v("）或限制（"),s("code",[t._v("limits")]),t._v("）时，LimitRange 可以自动为其填充默认值。")]),t._v(" "),s("li",[t._v("例如：为所有容器的 CPU 和内存设置默认的 "),s("code",[t._v("requests")]),t._v(" 和 "),s("code",[t._v("limits")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("限制资源使用范围")]),t._v(" "),s("ul",[s("li",[t._v("定义资源（CPU、内存等）的最小值（"),s("code",[t._v("min")]),t._v("）、最大值（"),s("code",[t._v("max")]),t._v("）和默认值（"),s("code",[t._v("default")]),t._v("）。")]),t._v(" "),s("li",[t._v("确保 Pod 或容器的资源请求和限制在合理范围内。")])])]),t._v(" "),s("li",[s("strong",[t._v("限制存储资源（Storage）")]),t._v(" "),s("ul",[s("li",[t._v("可以限制 PersistentVolumeClaim（PVC）的存储大小范围。")])])]),t._v(" "),s("li",[s("strong",[t._v("限制资源比例")]),t._v(" "),s("ul",[s("li",[t._v("定义 "),s("code",[t._v("maxLimitRequestRatio")]),t._v("，限制 "),s("code",[t._v("limits")]),t._v(" 与 "),s("code",[t._v("requests")]),t._v(" 的比值，防止资源突发使用超出预期。")])])])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LimitRange\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("limitrange\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" default\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limits")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Container\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"500m"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"512Mi"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultRequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100m"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"256Mi"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("min")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"50m"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"128Mi"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4Gi"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxLimitRequestRatio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pod\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("min")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100m"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"256Mi"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8Gi"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PersistentVolumeClaim\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("min")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1Gi"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10Gi"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br")])]),s("h3",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("LimitRange")]),t._v("\n管理单个 Pod/容器的资源范围（如最小/最大值、默认值）。")]),t._v(" "),s("li",[s("strong",[t._v("ResourceQuota")]),t._v("\n管理整个命名空间的资源总量。")])]),t._v(" "),s("p",[t._v("两者通常结合使用：")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("LimitRange 确保单个 Pod 的资源合理")]),t._v(" "),s("ul",[s("li",[t._v("例如：每个容器的内存限制不能超过 "),s("code",[t._v("4GiB")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("ResourceQuota 确保命名空间的总量可控")]),t._v(" "),s("ul",[s("li",[t._v("例如：整个命名空间的内存限制总和不超过 "),s("code",[t._v("40GiB")])])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("特性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("LimitRange")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("ResourceQuota")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("作用对象")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("单个 Pod/容器")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("整个命名空间")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("核心能力")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("设置默认值、限制资源范围")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("限制资源总量、对象数量")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("典型场景")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("防止单个 Pod 资源过载，标准化配置")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("多租户资源隔离，成本控制")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("互补性")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("确保微观资源合理")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("确保宏观资源可控")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);