(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{630:function(t,a,s){"use strict";s.r(a);var r=s(4),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("今天遇到的Bug, 其实也不是什么惊奇的类型, 是做为程序员思维逻辑和考虑问题的方式方法上的一些问题.")]),t._v(" "),s("h3",{attrs:{id:"bug描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bug描述"}},[t._v("#")]),t._v(" Bug描述:")]),t._v(" "),s("p",[t._v("功能是: 由前端根据查询条件发起查询列表的请求, 由于发起时, 可能还会有其他用户为此列表添加Item, 所以在查询条件中加入了首次查询时间, 这样是为了在分页时, 不会因增加或删除Item, 在列表中产生重复项. 当时简单就让前端查询时, 带上页面load时的时间戳, 进行查询.\n结果问题是, 前端浏览器所在的客户端时间与服务器时间不同, 差了几秒, 因此查出的数据是不准确的.")]),t._v(" "),s("h3",{attrs:{id:"心路历程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#心路历程"}},[t._v("#")]),t._v(" 心路历程")]),t._v(" "),s("p",[t._v("当时, 很猪的想, 可能开个接口, 让前端去获取服务器时间.\n还想过, 在操作(比如"),s("code",[t._v("复制图表")]),t._v("...)后, 返回服务器时间")]),t._v(" "),s("h3",{attrs:{id:"正解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正解"}},[t._v("#")]),t._v(" 正解")]),t._v(" "),s("p",[t._v("其实在第一次查询时, 服务器是不需要查询时间的, 也是说, 第一次查询可以用服务器时间,在返回第一次查询结果时, 携带服务器时间一并返回,  这样前端在做分页查询时, 就可以直接使用服务器时间了.")]),t._v(" "),s("h3",{attrs:{id:"梳理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#梳理"}},[t._v("#")]),t._v(" 梳理")]),t._v(" "),s("p",[t._v("其实解决问题的思路, 可以是多样的, 但是要从业务本身出发, 思考解决问题的方式方法, 不是一味的为了解决问题而去解决问题")])])}),[],!1,null,null,null);a.default=e.exports}}]);