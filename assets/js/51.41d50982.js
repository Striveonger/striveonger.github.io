(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{505:function(s,a,t){s.exports=t.p+"assets/img/image-20240427154506026.019a1aff.png"},710:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("Wrk 是一款针对 Http 协议的基准测试工具, 它能够在单机多核 CPU 的条件下, 使用系统自带的高性能 I/O 机制, 如 epoll，kqueue 等. 通过多线程和事件模式, 对目标机器产生大量的负载.")]),s._v(" "),a("blockquote",[a("p",[s._v("PS: 其实, wrk 是复用了 redis 的 ae 异步事件驱动框架. 准确来说 ae 事件驱动框架并不是 redis 发明的, 它来自于 Tcl 的解释器 jim, 这个小巧高效的框架,  因为被 redis 采用而被大家所熟知.")])]),s._v(" "),a("h3",{attrs:{id:"使用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用说明"}},[s._v("#")]),s._v(" 使用说明")]),s._v(" "),a("p",[a("img",{attrs:{src:t(505),alt:"image-20240427154506026"}})]),s._v(" "),a("p",[s._v("翻译一下:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("使用方法: wrk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("选项"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("被测HTTP服务的URL"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  Options:\n    -c, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--connections")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("N"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  跟服务器建立并保持的TCP连接数量\n    -d, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--duration")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("T"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  压测时间\n    -t, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--threads")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("N"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  使用多少个线程进行压测\n\n    -s, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--script")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("S"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  指定Lua脚本路径\n    -H, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--header")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("H"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  为每一个HTTP请求添加HTTP头      \n        "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--latency")]),s._v("          在压测结束后，打印延迟统计信息   \n        "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--timeout")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("T"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  超时时间\n    -v, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("          打印正在使用的wrk的详细版本信息\n\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("N"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("代表数字参数，支持国际单位 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1k, 1M, 1G"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("T"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("代表时间参数，支持时间单位 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2s, 2m, 2h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"测试报告"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试报告"}},[s._v("#")]),s._v(" 测试报告")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("~$ wrk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c400")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d10s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--latency")]),s._v(" https://www.baidu.com\nRunning 10s "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" @ https://www.baidu.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("压测10秒"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" threads and "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),s._v(" connections "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 个线程, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),s._v("个连接"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("平均"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("标准差"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("最大值"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("正负一个标准差所占比例"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("延迟"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Latency   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("117")]),s._v(".18ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("160")]),s._v(".26ms   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".81s    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("79.80")]),s._v("%\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("每秒请求数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Req/Sec    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36.15")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.10")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("121.00")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64.94")]),s._v("%\n  Latency Distribution （延迟分布）\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("%   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(".01ms\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v("%   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v(".48ms\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("%  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("298")]),s._v(".38ms\n     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("%  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("776")]),s._v(".30ms\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2944")]),s._v(" requests "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(".01s, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("712")]),s._v(".97KB "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v("\n  Socket errors: connect "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("159")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nRequests/sec:    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("293.98")]),s._v("\nTransfer/sec:     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71")]),s._v(".20KB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);